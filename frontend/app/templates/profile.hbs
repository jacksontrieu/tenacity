<div class="standard-container profile-template">
  <h2 class="container-title">Edit Profile</h2>

  <form {{action "save" on="submit"}}>
    <p class="section-header">
      Basic Settings
    </p>

    <div class="input-spacer">
      <label for={{concat elementId "-first-name"}} class="input-label">First Name</label>

      {{input value=(mut (get model "first_name"))
              placeholder="First name"
              id=(concat elementId "-first-name")
              class="form-control medium-length first-name-input"
              autocomplete="off"
              required="true"
              maxlength="150"
              disabled=isSaving}}

      {{#each model.errors.first_name as |error|}}
        <div class="input-error">First name {{error.message}}</div>
      {{/each}}
    </div>

    <div class="input-spacer">
      <label for={{concat elementId "-last-name"}} class="input-label">Last Name</label>

      {{input value=(mut (get model "last_name"))
              placeholder="Last name"
              id=(concat elementId "-last-name")
              class="form-control medium-length last-name-input"
              autocomplete="off"
              required="true"
              maxlength="150"
              disabled=isSaving}}

      {{#each model.errors.last_name as |error|}}
        <div class="input-error">Last name {{error.message}}</div>
      {{/each}}
    </div>

    <div class="input-spacer">
      <label for={{concat elementId "-phone"}} class="input-label">Phone</label>

      {{input value=(mut (get model "phone"))
              placeholder="Phone"
              id=(concat elementId "-phone")
              class="form-control medium-length phone-input"
              autocomplete="off"
              required="true"
              maxlength="100"
              disabled=isSaving}}

      {{#each model.errors.phone as |error|}}
        <div class="input-error">Phone {{error.message}}</div>
      {{/each}}
    </div>

    <hr class="styled-separator">

    <p class="section-header">
      Change password
    </p>

    {{#link-to "change-password"
               class="change-password-link styled-button"
               disabled=isSaving
               data-type="secondary"}}
      Change password
    {{/link-to}}

    <hr class="styled-separator">

    <div class="save-controls">
      <div class="spinner-wrapper">
        {{loading-spinner visible=isSaving}}
      </div>

      {{link-to "Cancel" "dashboard"
                class="cancel-button styled-link destructive save-control"
                disabled=isSaving}}

      <button class="save-button styled-button"
              type="submit"
              disabled={{isSaving}}>
        Save
      </button>
    </div>
  </form>
</div>
